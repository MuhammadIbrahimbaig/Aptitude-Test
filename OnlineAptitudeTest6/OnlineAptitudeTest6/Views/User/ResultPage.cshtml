@{
    ViewData["Title"] = "ResultPage";
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <link rel="apple-touch-icon" sizes="76x76" href="~/assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="~/assets/img/favicon.png">
    <title>Online Aptitude Test</title>

    <!-- Fonts and icons -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
    <link href="~/assets/css/nucleo-icons.css" rel="stylesheet" />
    <link href="~/assets/css/nucleo-svg.css" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

    <!-- CSS Files -->
    <link id="pagestyle" href="~/assets/css/material-dashboard.css?v=3.1.0" rel="stylesheet" />
</head>
<body>
    @model IEnumerable<OnlineAptitudeTest6.Models.Finalresult>
    @inject Microsoft.AspNetCore.Http.IHttpContextAccessor Contx;

    @if (Contx.HttpContext.Session.GetString("userrole") == "Canditate")
    {
        <div class="container mt-4 border-1">
            <h1>Result Page</h1>

            <style>
                table {
                    width: 100%;
                    border-collapse: collapse;
                }

                table, th, td {
                    border: 1px solid black;
                }

                th, td {
                    padding: 8px;
                    text-align: left;
                }

                th {
                    background-color: #f2f2f2;
                }
            </style>

            <div class="table-responsive">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>@Html.DisplayNameFor(model => model.ResultId)</th>
                            <th>@Html.DisplayNameFor(model => model.UserId)</th>
                            <th>@Html.DisplayNameFor(model => model.Score)</th>
                            <th>@Html.DisplayNameFor(model => model.ResultStatus)</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.Any())
                        {
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td>@Html.DisplayFor(modelItem => item.ResultId)</td>
                                    <td > @Html.DisplayFor(modelItem => item.UserId)</td>
                                    <td>@Html.DisplayFor(modelItem => item.Score)</td>
                                    <td>@Html.DisplayFor(modelItem => item.ResultStatus)</td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="4" class="text-center">No results available</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <form id="logoutForm" asp-controller="Home" asp-action="Logout" method="post" class=" align-items-center d-grid gap-2">
            <button type="submit" class="btn btn-primary align-items-center d-grid gap-2">Logout</button>
        </form>
    }
    else
    {
        <div class="container mt-4">
            <h1 class="text-danger">Unauthorized Access</h1>
            <p>You do not have permission to view this page.</p>
        </div>
    }
</body>
</html>
